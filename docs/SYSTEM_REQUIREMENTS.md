# Вимоги до системи FullMag E-Commerce

## Зміст
1. [Функціональні вимоги](#функціональні-вимоги)
2. [Нефункціональні вимоги](#нефункціональні-вимоги)
3. [Бізнес-вимоги](#бізнес-вимоги)
4. [Вимоги до інтерфейсу користувача](#вимоги-до-інтерфейсу-користувача)
5. [Вимоги до безпеки](#вимоги-до-безпеки)
6. [Технічні вимоги](#технічні-вимоги)

---

## Функціональні вимоги

### 1. Управління користувачами

#### 1.1 Реєстрація та аутентифікація
- **FR-1.1.1**: Система повинна дозволяти користувачам реєструватися за допомогою email та пароля
- **FR-1.1.2**: Система повинна підтримувати автентифікацію через JWT токени
- **FR-1.1.3**: Система повинна надавати можливість відновлення паролю
- **FR-1.1.4**: Токени оновлення (refresh tokens) повинні автоматично оновлювати access tokens
- **FR-1.1.5**: Система повинна підтримувати вихід з усіх пристроїв

#### 1.2 Ролі користувачів
- **FR-1.2.1**: Система повинна підтримувати три ролі: admin, manager, customer
- **FR-1.2.2**: Адміністратори мають повний доступ до всіх функцій
- **FR-1.2.3**: Менеджери мають доступ до управління замовленнями, продуктами, клієнтами
- **FR-1.2.4**: Клієнти мають доступ до покупок та перегляду своїх замовлень

#### 1.3 Профіль користувача
- **FR-1.3.1**: Користувачі можуть переглядати та редагувати свій профіль
- **FR-1.3.2**: Користувачі можуть зберігати декілька адрес доставки
- **FR-1.3.3**: Користувачі можуть переглядати історію своїх замовлень
- **FR-1.3.4**: Користувачі можуть управляти списком бажань (wishlist)

### 2. Управління каталогом товарів

#### 2.1 Категорії
- **FR-2.1.1**: Система повинна підтримувати ієрархічну структуру категорій (категорії та підкатегорії)
- **FR-2.1.2**: Категорії можуть мати необмежену глибину вкладеності
- **FR-2.1.3**: Адміністратор може створювати, редагувати та видаляти категорії
- **FR-2.1.4**: Неможливо видалити категорію, яка містить товари або підкатегорії
- **FR-2.1.5**: Система повинна запобігати циклічним посиланням при налаштуванні батьківської категорії

#### 2.2 Атрибути товарів
- **FR-2.2.1**: Система повинна підтримувати різні типи атрибутів: текст, число, boolean, select, multi-select, діапазон
- **FR-2.2.2**: Атрибути можуть бути глобальними або прив'язаними до конкретної категорії
- **FR-2.2.3**: Атрибути можуть бути позначені як фільтруємі, обов'язкові, видимі
- **FR-2.2.4**: Атрибути можуть мати одиниці вимірювання (GB, inches, MP тощо)
- **FR-2.2.5**: Адміністратор може визначати порядок відображення атрибутів

#### 2.3 Продукти
- **FR-2.3.1**: Система повинна підтримувати створення, редагування та видалення продуктів
- **FR-2.3.2**: Кожен продукт має: назву, опис, ціну, валюту, SKU, кількість на складі
- **FR-2.3.3**: Продукти можуть мати декілька зображень
- **FR-2.3.4**: Продукти прив'язуються до категорій
- **FR-2.3.5**: Продукти мають динамічні атрибути згідно з їх категорією
- **FR-2.3.6**: Система відстежує кількість товару на складі
- **FR-2.3.7**: Система підтримує знижки на товари

#### 2.4 Імпорт товарів
- **FR-2.4.1**: Система повинна підтримувати імпорт товарів з CSV файлів
- **FR-2.4.2**: Адміністратор може створювати профілі імпорту з налаштуваннями:
  - Відображення колонок CSV на поля продукту
  - Відображення атрибутів
  - Правила валідації
  - Правила трансформації даних (ціна, категорія)
- **FR-2.4.3**: Система повинна показувати попередній перегляд імпорту з статистикою
- **FR-2.4.4**: Система повинна зберігати історію імпортів з детальними звітами

### 3. Пошук та фільтрація

#### 3.1 Пошук товарів
- **FR-3.1.1**: Користувачі можуть шукати товари за назвою, описом, SKU
- **FR-3.1.2**: Пошук повинен працювати в режимі реального часу
- **FR-3.1.3**: Пошук повинен підтримувати часткове співпадіння

#### 3.2 Фільтрація
- **FR-3.2.1**: Користувачі можуть фільтрувати товари за категоріями
- **FR-3.2.2**: Користувачі можуть фільтрувати за ціновим діапазоном
- **FR-3.2.3**: Користувачі можуть фільтрувати за наявністю на складі
- **FR-3.2.4**: Користувачі можуть фільтрувати за динамічними атрибутами товарів
- **FR-3.2.5**: Фільтри повинні зберігатися в URL для можливості поділитися посиланням
- **FR-3.2.6**: Система повинна показувати кількість товарів для кожного фільтру

#### 3.3 Сортування
- **FR-3.3.1**: Користувачі можуть сортувати товари за: ціною (зростання/спадання), назвою, датою додавання, популярністю
- **FR-3.3.2**: Сортування повинно зберігатися в URL

#### 3.4 Відображення
- **FR-3.4.1**: Користувачі можуть перемикати між сіткою та списком
- **FR-3.4.2**: Система підтримує пагінацію результатів
- **FR-3.4.3**: Користувачі можуть вибирати кількість товарів на сторінці

### 4. Кошик та замовлення

#### 4.1 Кошик
- **FR-4.1.1**: Авторизовані користувачі мають персональний кошик, що зберігається в БД
- **FR-4.1.2**: Неавторизовані користувачі мають кошик в localStorage
- **FR-4.1.3**: Користувачі можуть додавати товари в кошик
- **FR-4.1.4**: Користувачі можуть змінювати кількість товарів в кошику
- **FR-4.1.5**: Користувачі можуть видаляти товари з кошика
- **FR-4.1.6**: Система показує загальну вартість кошика
- **FR-4.1.7**: Система перевіряє наявність товару перед додаванням до кошика

#### 4.2 Оформлення замовлення
- **FR-4.2.1**: Користувачі можуть оформити замовлення з товарів в кошику
- **FR-4.2.2**: Система інтегрована з API Нової Пошти для вибору міста та відділення
- **FR-4.2.3**: Користувачі вводять дані отримувача (ім'я, телефон)
- **FR-4.2.4**: Користувачі вибирають спосіб оплати:
  - Онлайн оплата (Stripe)
  - Готівка при отриманні
- **FR-4.2.5**: Система створює замовлення зі статусом PENDING
- **FR-4.2.6**: Після успішного створення замовлення кошик очищається

#### 4.3 Оплата
- **FR-4.3.1**: Система інтегрована з Stripe для онлайн оплати
- **FR-4.3.2**: Підтримується тестовий режим з картою 4242 4242 4242 4242
- **FR-4.3.3**: Після успішної оплати статус замовлення змінюється на PAID
- **FR-4.3.4**: Система обробляє webhook події від Stripe
- **FR-4.3.5**: При оплаті готівкою замовлення залишається зі статусом PENDING

#### 4.4 Управління замовленнями
- **FR-4.4.1**: Користувачі можуть переглядати список своїх замовлень
- **FR-4.4.2**: Користувачі можуть переглядати деталі кожного замовлення
- **FR-4.4.3**: Адміністратори можуть переглядати всі замовлення
- **FR-4.4.4**: Адміністратори можуть змінювати статус замовлення:
  - PENDING → PROCESSING → PAID → SHIPPED → DELIVERED
  - CANCELLED (можливо на будь-якому етапі)
- **FR-4.4.5**: Система генерує інвойси для замовлень
- **FR-4.4.6**: Користувачі можуть завантажити інвойс в PDF форматі

### 5. Повернення товарів

#### 5.1 Створення запиту на повернення
- **FR-5.1.1**: Користувачі можуть створити запит на повернення для доставленого замовлення
- **FR-5.1.2**: Користувачі вказують причину повернення та опис
- **FR-5.1.3**: Користувачі можуть додати фото товару

#### 5.2 Обробка повернень
- **FR-5.2.1**: Адміністратори бачать список запитів на повернення
- **FR-5.2.2**: Адміністратори можуть схвалити або відхилити повернення
- **FR-5.2.3**: При схваленні повернення товар повертається на склад
- **FR-5.2.4**: Система відстежує статуси: PENDING, APPROVED, REJECTED, REFUNDED

### 6. Відгуки та рейтинги

#### 6.1 Відгуки користувачів
- **FR-6.1.1**: Користувачі можуть залишати відгуки на куплені товари
- **FR-6.1.2**: Відгук містить: рейтинг (1-5 зірок), текст, можливість додати фото
- **FR-6.1.3**: Користувачі можуть редагувати свої відгуки
- **FR-6.1.4**: Відгуки можна позначати як корисні (лайки)
- **FR-6.1.5**: Адміністратори можуть відповідати на відгуки
- **FR-6.1.6**: Користувачі можуть скаржитися на неприйнятні відгуки

#### 6.2 Модерація відгуків
- **FR-6.2.1**: Адміністратори переглядають скарги на відгуки
- **FR-6.2.2**: Адміністратори можуть видалити або приховати відгук
- **FR-6.2.3**: Користувач отримує повідомлення про статус скарги

### 7. Список бажань та порівняння

#### 7.1 Список бажань (Wishlist)
- **FR-7.1.1**: Користувачі можуть додавати товари до списку бажань
- **FR-7.1.2**: Користувачі можуть видаляти товари зі списку бажань
- **FR-7.1.3**: Користувачі можуть переглядати свій список бажань
- **FR-7.1.4**: З списку бажань можна швидко додати товар в кошик

#### 7.2 Порівняння товарів
- **FR-7.2.1**: Користувачі можуть додавати товари до порівняння
- **FR-7.2.2**: Порівняння доступне лише для товарів однієї категорії
- **FR-7.2.3**: Система показує атрибути товарів в таблиці порівняння
- **FR-7.2.4**: Користувачі можуть видаляти товари з порівняння

### 8. Знижки та промокоди

#### 8.1 Знижки на товари
- **FR-8.1.1**: Адміністратор може встановлювати знижки на товари
- **FR-8.1.2**: Знижки мають відсоток та період дії
- **FR-8.1.3**: Система автоматично застосовує активні знижки

#### 8.2 Купони
- **FR-8.2.1**: Адміністратор може створювати купони з кодом
- **FR-8.2.2**: Купони мають тип: відсоток, фіксована сума, безкоштовна доставка
- **FR-8.2.3**: Купони мають обмеження: мінімальна сума, дата початку/закінчення, кількість використань
- **FR-8.2.4**: Користувачі вводять код купона при оформленні замовлення
- **FR-8.2.5**: Система відстежує використання купонів

### 9. Покинуті кошики

#### 9.1 Відстеження покинутих кошиків
- **FR-9.1.1**: Система автоматично виявляє кошики, не оформлені більше 24 годин
- **FR-9.1.2**: Адміністратори бачать список покинутих кошиків
- **FR-9.1.3**: Система показує загальну вартість покинутих кошиків

#### 9.2 Email нагадування
- **FR-9.2.1**: Система автоматично надсилає email нагадування через 24 години
- **FR-9.2.2**: Email містить список товарів та посилання на кошик
- **FR-9.2.3**: Адміністратор може налаштувати шаблон email

### 10. Комунікація з клієнтами

#### 10.1 Чат підтримки
- **FR-10.1.1**: Користувачі можуть відкрити чат з підтримкою
- **FR-10.1.2**: Чат працює в реальному часі через WebSocket
- **FR-10.1.3**: Менеджери бачать список активних чатів
- **FR-10.1.4**: Менеджери можуть відповідати на повідомлення
- **FR-10.1.5**: Система зберігає історію повідомлень

#### 10.2 Telegram інтеграція
- **FR-10.2.1**: Користувачі можуть зв'язати Telegram акаунт
- **FR-10.2.2**: Telegram бот надсилає повідомлення про статус замовлення
- **FR-10.2.3**: Користувачі можуть отримувати відповіді через бота

#### 10.3 WhatsApp інтеграція
- **FR-10.3.1**: Користувачі можуть зв'язати WhatsApp акаунт
- **FR-10.3.2**: WhatsApp бот надсилає повідомлення про статус замовлення
- **FR-10.3.3**: Користувачі можуть ставити запитання через WhatsApp

#### 10.4 Email повідомлення
- **FR-10.4.1**: Система надсилає email при реєстрації
- **FR-10.4.2**: Система надсилає email при створенні замовлення
- **FR-10.4.3**: Система надсилає email при зміні статусу замовлення
- **FR-10.4.4**: Система надсилає email при успішній оплаті
- **FR-10.4.5**: Email шаблони редагуються через Handlebars

### 11. Банери та маркетинг

#### 11.1 Банери
- **FR-11.1.1**: Адміністратор може створювати банери для головної сторінки
- **FR-11.1.2**: Банери мають: зображення, заголовок, опис, посилання, порядок відображення
- **FR-11.1.3**: Банери можуть бути активними/неактивними
- **FR-11.1.4**: Система відстежує покази банерів

### 12. Аналітика

#### 12.1 Дашборд адміністратора
- **FR-12.1.1**: Система показує загальну статистику продажів
- **FR-12.1.2**: Графіки продажів за період (день, тиждень, місяць)
- **FR-12.1.3**: Топ товарів за продажами
- **FR-12.1.4**: Розподіл замовлень за статусами
- **FR-12.1.5**: Статистика доходів за категоріями

#### 12.2 Аналітика товарів
- **FR-12.2.1**: Статистика по кожному товару (перегляди, покупки, конверсія)
- **FR-12.2.2**: Товари з низьким залишком
- **FR-12.2.3**: Розподіл товарів за ціновими діапазонами
- **FR-12.2.4**: Загальна вартість інвентаря

#### 12.3 Аналітика користувачів
- **FR-12.3.1**: Кількість нових користувачів за період
- **FR-12.3.2**: Активні користувачі
- **FR-12.3.3**: Середній чек замовлення
- **FR-12.3.4**: Lifetime Value (LTV) клієнтів

---

## Нефункціональні вимоги

### 1. Продуктивність

#### 1.1 Час відгуку
- **NFR-1.1.1**: Час завантаження головної сторінки не повинен перевищувати 2 секунди
- **NFR-1.1.2**: Час відгуку API для операцій CRUD не повинен перевищувати 500ms
- **NFR-1.1.3**: Пошук товарів повинен працювати за менше 1 секунди
- **NFR-1.1.4**: Фільтрація повинна відбуватися за менше 800ms
- **NFR-1.1.5**: WebSocket повідомлення в чаті повинні доставлятися за менше 100ms

#### 1.2 Масштабованість
- **NFR-1.2.1**: Система повинна підтримувати до 10,000 товарів
- **NFR-1.2.2**: Система повинна підтримувати до 1,000 одночасних користувачів
- **NFR-1.2.3**: Система повинна обробляти до 100 замовлень на годину
- **NFR-1.2.4**: База даних повинна підтримувати до 100,000 записів замовлень

#### 1.3 Оптимізація
- **NFR-1.3.1**: Статичні ресурси повинні кешуватися в браузері
- **NFR-1.3.2**: API відповіді повинні стискатися через gzip
- **NFR-1.3.3**: Зображення повинні оптимізуватися та підтримувати lazy loading
- **NFR-1.3.4**: Redis використовується для кешування частих запитів

### 2. Надійність

#### 2.1 Доступність
- **NFR-2.1.1**: Система повинна бути доступна 99.5% часу
- **NFR-2.1.2**: Плановані технічні роботи проводяться у нічний час
- **NFR-2.1.3**: Система повинна автоматично відновлюватися після збоїв

#### 2.2 Обробка помилок
- **NFR-2.2.1**: Всі критичні помилки логуються
- **NFR-2.2.2**: Користувачі бачать зрозумілі повідомлення про помилки
- **NFR-2.2.3**: Система не показує технічні деталі помилок кінцевим користувачам
- **NFR-2.2.4**: Помилки інтеграцій (Stripe, Нова Пошта) обробляються gracefully

#### 2.3 Резервне копіювання
- **NFR-2.3.1**: Автоматичне резервне копіювання БД щоденно
- **NFR-2.3.2**: Зберігання резервних копій за останні 30 днів
- **NFR-2.3.3**: Можливість відновлення з backup за менше 1 години

### 3. Безпека

#### 3.1 Аутентифікація
- **NFR-3.1.1**: Паролі зберігаються у вигляді bcrypt хешів
- **NFR-3.1.2**: JWT токени підписані секретним ключем
- **NFR-3.1.3**: Access tokens дійсні 1 день, refresh tokens - 7 днів
- **NFR-3.1.4**: Після 5 невдалих спроб входу акаунт блокується на 15 хвилин

#### 3.2 Захист даних
- **NFR-3.2.1**: Всі API ендпоінти захищені CORS політикою
- **NFR-3.2.2**: HTTPS обов'язковий для production середовища
- **NFR-3.2.3**: Чутлива інформація (паролі, токени) не логується
- **NFR-3.2.4**: SQL injection захищений через ORM (TypeORM)
- **NFR-3.2.5**: XSS захист через sanitization вводу користувача

#### 3.3 Авторизація
- **NFR-3.3.1**: Ролевий доступ (RBAC) для всіх захищених ресурсів
- **NFR-3.3.2**: Користувачі можуть отримати доступ лише до своїх даних
- **NFR-3.3.3**: API ендпоінти адміністратора захищені JWT guards

#### 3.4 Платежі
- **NFR-3.4.1**: Дані платіжних карток не зберігаються в системі
- **NFR-3.4.2**: Оплата обробляється через PCI-DSS сертифікований Stripe
- **NFR-3.4.3**: Webhook підписи від Stripe валідуються

### 4. Сумісність

#### 4.1 Браузери
- **NFR-4.1.1**: Підтримка Chrome 90+
- **NFR-4.1.2**: Підтримка Firefox 88+
- **NFR-4.1.3**: Підтримка Safari 14+
- **NFR-4.1.4**: Підтримка Edge 90+

#### 4.2 Пристрої
- **NFR-4.2.1**: Адаптивний дизайн для desktop (1920px, 1366px)
- **NFR-4.2.2**: Адаптивний дизайн для tablet (768px, 1024px)
- **NFR-4.2.3**: Адаптивний дизайн для mobile (320px, 375px, 414px)
- **NFR-4.2.4**: Touch-friendly інтерфейс для мобільних пристроїв

#### 4.3 Інтеграції
- **NFR-4.3.1**: API сумісне з актуальними версіями Stripe API
- **NFR-4.3.2**: API сумісне з Нова Пошта API v2
- **NFR-4.3.3**: Підтримка Telegram Bot API останньої версії
- **NFR-4.3.4**: Підтримка WhatsApp Business API

### 5. Підтримка та обслуговування

#### 5.1 Логування
- **NFR-5.1.1**: Детальне логування всіх API запитів
- **NFR-5.1.2**: Логування змін критичних даних (замовлення, платежі)
- **NFR-5.1.3**: Rotation логів кожні 30 днів
- **NFR-5.1.4**: Інтеграція з Sentry для моніторингу помилок

#### 5.2 Моніторинг
- **NFR-5.2.1**: Моніторинг доступності системи
- **NFR-5.2.2**: Моніторинг використання ресурсів (CPU, RAM, Disk)
- **NFR-5.2.3**: Алерти при критичних помилках
- **NFR-5.2.4**: Моніторинг часу відгуку API

#### 5.3 Документація
- **NFR-5.3.1**: Наявність README з інструкціями по встановленню
- **NFR-5.3.2**: Документація API endpoints
- **NFR-5.3.3**: Документація архітектури системи
- **NFR-5.3.4**: Інструкції по deployment

### 6. Зручність використання (Usability)

#### 6.1 Інтерфейс
- **NFR-6.1.1**: Інтуїтивна навігація без необхідності навчання
- **NFR-6.1.2**: Послідовність елементів UI на всіх сторінках
- **NFR-6.1.3**: Використання стандартних UI паттернів
- **NFR-6.1.4**: Доступність через клавіатуру (keyboard navigation)

#### 6.2 Повідомлення
- **NFR-6.2.1**: Зрозумілі повідомлення про помилки українською мовою
- **NFR-6.2.2**: Success повідомлення після успішних операцій
- **NFR-6.2.3**: Loading індикатори для довгих операцій
- **NFR-6.2.4**: Підтвердження для критичних дій (видалення)

#### 6.3 Локалізація
- **NFR-6.3.1**: Основна мова інтерфейсу - українська
- **NFR-6.3.2**: Підтримка UAH як основної валюти
- **NFR-6.3.3**: Формат дат згідно з українськими стандартами
- **NFR-6.3.4**: Формат телефонів: +380XXXXXXXXX

### 7. Переносимість

#### 7.1 Середовище
- **NFR-7.1.1**: Застосунок працює на Node.js 20+
- **NFR-7.1.2**: Застосунок працює на PostgreSQL 15+
- **NFR-7.1.3**: Застосунок працює на Redis 7+
- **NFR-7.1.4**: Можливість розгортання в Docker контейнерах

#### 7.2 Конфігурація
- **NFR-7.2.1**: Всі налаштування через змінні оточення (.env)
- **NFR-7.2.2**: Різні конфігурації для dev, staging, production
- **NFR-7.2.3**: Можливість роботи без зовнішніх сервісів в режимі розробки

---

## Бізнес-вимоги

### 1. Цілі бізнесу
- **BR-1.1**: Забезпечити онлайн платформу для продажу електроніки та гаджетів
- **BR-1.2**: Автоматизувати процес від замовлення до доставки
- **BR-1.3**: Збільшити конверсію покинутих кошиків через email нагадування
- **BR-1.4**: Підвищити задоволеність клієнтів через багатоканальну підтримку

### 2. ROI та метрики
- **BR-2.1**: Середній час обробки замовлення - менше 5 хвилин
- **BR-2.2**: Конверсія відвідувач → покупець - мінімум 2%
- **BR-2.3**: Середній чек - мінімум 1000 UAH
- **BR-2.4**: Повернення покупців - мінімум 30%

### 3. Комерційні обмеження
- **BR-3.1**: Бюджет на розробку обмежений
- **BR-3.2**: Використання безкоштовних або дешевих сервісів де можливо
- **BR-3.3**: Можливість масштабування при зростанні бізнесу

### 4. Правові та регуляторні вимоги
- **BR-4.1**: Відповідність законам України про електронну комерцію
- **BR-4.2**: Збереження персональних даних згідно з GDPR принципами
- **BR-4.3**: Надання чеку/інвойсу для кожного замовлення
- **BR-4.4**: Право на повернення товару протягом 14 днів

---

## Вимоги до інтерфейсу користувача

### 1. Дизайн
- **UIR-1.1**: Мінімалістичний та сучасний дизайн
- **UIR-1.2**: Використання корпоративних кольорів (primary-600: #2563eb)
- **UIR-1.3**: Tailwind CSS для стилізації
- **UIR-1.4**: Виділення активних елементів та hover ефектів

### 2. Навігація
- **UIR-2.1**: Фіксований header з навігацією
- **UIR-2.2**: Хлібні крихти (breadcrumbs) для категорій і продуктів
- **UIR-2.3**: Швидкий доступ до кошика та профілю
- **UIR-2.4**: Dropdown меню для адміністративних розділів

### 3. Форми
- **UIR-3.1**: Inline валідація полів форм
- **UIR-3.2**: Автоматичний фокус на першому полі
- **UIR-3.3**: Placeholder текст для пояснення полів
- **UIR-3.4**: Кнопки з loading станом для запобігання подвійних відправок

### 4. Зворотній зв'язок
- **UIR-4.1**: Toast нотифікації для швидких повідомлень
- **UIR-4.2**: Modal діалоги для підтвердження дій
- **UIR-4.3**: Progress bar для довгих операцій
- **UIR-4.4**: Skeleton loaders для контенту що завантажується

### 5. Доступність (Accessibility)
- **UIR-5.1**: ARIA labels для інтерактивних елементів
- **UIR-5.2**: Достатній контраст тексту (мінімум 4.5:1)
- **UIR-5.3**: Можливість навігації через Tab
- **UIR-5.4**: Альтернативний текст для зображень

---

## Вимоги до безпеки

### 1. Захист від атак
- **SR-1.1**: Захист від CSRF атак через CSRF токени
- **SR-1.2**: Захист від SQL Injection через параметризовані запити
- **SR-1.3**: Захист від XSS через sanitization та escape
- **SR-1.4**: Rate limiting для API (максимум 100 запитів/хвилину)
- **SR-1.5**: Захист від brute force через exponential backoff

### 2. Конфіденційність
- **SR-2.1**: Чутливі дані шифруються в БД
- **SR-2.2**: Токени доступу не передаються через URL
- **SR-2.3**: Сесії користувачів інвалідуються при виході
- **SR-2.4**: Видалені дані не підлягають відновленню

### 3. Аудит
- **SR-3.1**: Логування всіх спроб доступу до адмін панелі
- **SR-3.2**: Логування змін в критичних даних (замовлення, користувачі)
- **SR-3.3**: IP адреси фіксуються для подальшого аналізу
- **SR-3.4**: Можливість перегляду історії дій користувача

### 4. Compliance
- **SR-4.1**: PCI DSS compliance через делегування платежів Stripe
- **SR-4.2**: GDPR compliance для обробки персональних даних
- **SR-4.3**: Право користувача на видалення своїх даних
- **SR-4.4**: Прозорість використання cookies

---

## Технічні вимоги

### 1. Архітектура
- **TR-1.1**: Мікросервісна архітектура з можливістю масштабування
- **TR-1.2**: RESTful API для комунікації frontend-backend
- **TR-1.3**: WebSocket для real-time функцій (чат)
- **TR-1.4**: Відділення бізнес-логіки від слою представлення

### 2. Технологічний стек

#### Backend
- **TR-2.1**: Node.js 20+ з TypeScript
- **TR-2.2**: NestJS як основний фреймворк
- **TR-2.3**: TypeORM для роботи з БД
- **TR-2.4**: PostgreSQL як основна БД
- **TR-2.5**: Redis для кешування та черг

#### Frontend
- **TR-2.6**: Next.js 14+ з App Router
- **TR-2.7**: React 18+ з TypeScript
- **TR-2.8**: Zustand для state management
- **TR-2.9**: Tailwind CSS для стилізації
- **TR-2.10**: Axios для HTTP запитів

#### Інфраструктура
- **TR-2.11**: Docker для контейнеризації
- **TR-2.12**: Docker Compose для локальної розробки
- **TR-2.13**: Git для версіонування
- **TR-2.14**: pnpm для управління пакетами (monorepo)

### 3. Якість коду
- **TR-3.1**: TypeScript strict mode увімкнено
- **TR-3.2**: ESLint для статичного аналізу
- **TR-3.3**: Prettier для форматування коду
- **TR-3.4**: Husky для pre-commit hooks (опціонально)

### 4. Тестування
- **TR-4.1**: Unit тести для критичної бізнес-логіки
- **TR-4.2**: E2E тести для основних user flows
- **TR-4.3**: Мінімум 70% покриття тестами
- **TR-4.4**: Jest як основний тестовий фреймворк

### 5. Deployment
- **TR-5.1**: Автоматичний деплой через CI/CD
- **TR-5.2**: Середовища: development, staging, production
- **TR-5.3**: Blue-green deployment для zero-downtime
- **TR-5.4**: Rollback можливий за 5 хвилин

### 6. API Design
- **TR-6.1**: Версіонування API (/api/v1)
- **TR-6.2**: Стандартні HTTP методи (GET, POST, PATCH, DELETE)
- **TR-6.3**: Стандартні HTTP статус коди
- **TR-6.4**: JSON як формат відповіді
- **TR-6.5**: Swagger/OpenAPI документація

### 7. База даних
- **TR-7.1**: Нормалізована структура (3NF)
- **TR-7.2**: Індекси на часто запитувані поля
- **TR-7.3**: Foreign keys для забезпечення цілісності
- **TR-7.4**: Migrations для версіонування схеми
- **TR-7.5**: Soft delete для критичних даних

---

## Пріоритизація вимог

### Критичні (Must Have) - P0
- Аутентифікація та авторизація
- Каталог товарів з пошуком та фільтрацією
- Кошик та оформлення замовлення
- Інтеграція з Stripe для оплати
- Управління замовленнями
- Адмін панель

### Важливі (Should Have) - P1
- Відгуки та рейтинги
- Список бажань
- Email повідомлення
- Чат підтримки
- Аналітика та звіти
- Імпорт товарів з CSV

### Бажані (Could Have) - P2
- Telegram інтеграція
- WhatsApp інтеграція
- Покинуті кошики з email
- Порівняння товарів
- Купони та знижки
- Повернення товарів

### Опціональні (Won't Have) - P3
- Мобільний додаток (native)
- Підтримка декількох мов
- Програма лояльності
- Відеоогляди товарів
- AR примірка
