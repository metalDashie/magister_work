РОЗДІЛ 4. ТЕСТУВАННЯ ТА НАЛАГОДЖЕННЯ СИСТЕМИ

4.1 Загальні положення тестування застосунку

Тестування програмного забезпечення є невід'ємною частиною процесу розробки та забезпечує якість, надійність і стабільність роботи системи FullMag. Метою тестування є виявлення дефектів, перевірка відповідності функціональних вимог та забезпечення належного рівня користувацького досвіду.

Для тестування системи використовуються наступні інструменти та фреймворки:
•	Jest — основний фреймворк для модульного та інтеграційного тестування;
•	React Testing Library — бібліотека для тестування React-компонентів;
•	React Test Renderer — інструмент для тестування React Native компонентів;
•	Postman — інструмент для ручного тестування API-ендпоінтів;
•	Chrome DevTools — інструменти розробника для налагодження веб-застосунку.

Рівні тестування, що застосовуються у проєкті:
•	модульне тестування (Unit Testing) — перевірка окремих функцій, сервісів та компонентів;
•	інтеграційне тестування (Integration Testing) — перевірка взаємодії між модулями системи;
•	функціональне тестування (Functional Testing) — перевірка відповідності бізнес-вимогам;
•	UI-тестування (User Interface Testing) — перевірка коректності відображення інтерфейсу;
•	тестування безпеки (Security Testing) — перевірка захищеності системи від вразливостей.

Процес тестування включає наступні етапи:
•	планування тестування та визначення тестових сценаріїв;
•	розробка тестових випадків (test cases);
•	виконання тестів та фіксація результатів;
•	аналіз виявлених дефектів та їх класифікація;
•	повторне тестування після виправлення дефектів;
•	регресійне тестування для перевірки стабільності системи.


4.2 Функціональне тестування

Функціональне тестування спрямоване на перевірку відповідності реалізованих функцій системи визначеним вимогам. Тестування охоплює всі основні модулі системи.

Тестування модуля автентифікації:

Таблиця 4.1 — Тестові випадки модуля автентифікації
┌───┬────────────────────────────────┬─────────────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Вхідні дані                         │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Реєстрація нового користувача │ email: test@mail.com,               │ Користувача створено, надіслано лист             │ Пройдено │
│   │                                │ password: Test123!                  │ підтвердження                                    │          │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Реєстрація з існуючим email   │ email: existing@mail.com            │ Помилка: "User with this email already exists"  │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Вхід з валідними даними       │ email: test@mail.com,               │ Отримано access_token, перенаправлення          │ Пройдено │
│   │                                │ password: Test123!                  │ на головну сторінку                              │          │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Вхід з невірним паролем       │ email: test@mail.com,               │ Помилка: "Invalid credentials"                   │ Пройдено │
│   │                                │ password: wrong                     │                                                  │          │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Відновлення паролю            │ email: test@mail.com                │ Надіслано лист з посиланням для скидання         │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ Верифікація email             │ token: valid_token                  │ Email підтверджено успішно                       │ Пройдено │
└───┴────────────────────────────────┴─────────────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування модуля товарів:

Таблиця 4.2 — Тестові випадки модуля товарів
┌───┬────────────────────────────────┬─────────────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Вхідні дані                         │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Отримання списку товарів      │ GET /products                       │ Масив товарів з пагінацією                       │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Пошук товару за назвою        │ search: "телефон"                   │ Відфільтровані товари                            │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Фільтрація за категорією      │ categoryId: 1                       │ Товари обраної категорії                         │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Сортування за ціною           │ sort: price_asc                     │ Товари відсортовані за зростанням ціни           │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Перегляд деталей товару       │ GET /products/1                     │ Повна інформація про товар                       │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ Додавання товару (адмін)      │ POST /products з даними             │ Товар створено успішно                           │ Пройдено │
└───┴────────────────────────────────┴─────────────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування модуля кошика та замовлень:

Таблиця 4.3 — Тестові випадки модуля кошика та замовлень
┌───┬────────────────────────────────┬─────────────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Вхідні дані                         │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Додавання товару в кошик      │ productId: 1, quantity: 2           │ Товар додано до кошика                           │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Зміна кількості товару        │ cartItemId: 1, quantity: 5          │ Кількість оновлено                               │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Видалення товару з кошика     │ cartItemId: 1                       │ Товар видалено                                   │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Застосування купона           │ code: "DISCOUNT10"                  │ Знижку застосовано                               │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Оформлення замовлення         │ Дані доставки, оплати               │ Замовлення створено                              │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ Перегляд історії замовлень    │ GET /orders                         │ Список замовлень користувача                     │ Пройдено │
└───┴────────────────────────────────┴─────────────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування модуля оплати (Stripe):

Таблиця 4.4 — Тестові випадки модуля оплати
┌───┬────────────────────────────────┬─────────────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Вхідні дані                         │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Створення платіжного наміру   │ orderId, amount                     │ PaymentIntent створено                           │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Успішна оплата                │ Тестова картка 4242...              │ Платіж підтверджено                              │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Відхилена картка              │ Тестова картка 4000...              │ Помилка оплати                                   │ Пройдено │
├───┼────────────────────────────────┼─────────────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Webhook підтвердження         │ payment_intent.succeeded            │ Статус замовлення оновлено                       │ Пройдено │
└───┴────────────────────────────────┴─────────────────────────────────────┴──────────────────────────────────────────────────┴──────────┘


4.3 UI Тестування

UI-тестування забезпечує перевірку коректності відображення та поведінки користувацького інтерфейсу на різних платформах та пристроях.

Тестування веб-інтерфейсу:

Таблиця 4.5 — Тестові випадки веб-інтерфейсу
┌───┬─────────────────────┬───────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Компонент           │ Критерій перевірки            │ Очікуваний результат                             │ Статус   │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Header              │ Відображення навігації        │ Логотип, меню, пошук, кошик відображаються       │ Пройдено │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ ProductCard         │ Відображення картки товару    │ Зображення, назва, ціна, кнопка "В кошик"        │ Пройдено │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ FilterSidebar       │ Фільтри на сторінці товарів   │ Категорії, ціна, атрибути працюють               │ Пройдено │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ CartPage            │ Сторінка кошика               │ Список товарів, підсумок, кнопка оформлення      │ Пройдено │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ CheckoutPage        │ Сторінка оформлення           │ Форма доставки, вибір оплати                     │ Пройдено │
├───┼─────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ AdminDashboard      │ Панель адміністратора         │ Статистика, графіки, навігація                   │ Пройдено │
└───┴─────────────────────┴───────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування адаптивності веб-інтерфейсу:

Таблиця 4.6 — Тестування адаптивності
┌───┬─────────────────────┬──────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Роздільна здатність │ Пристрій     │ Результат відображення                           │ Статус   │
├───┼─────────────────────┼──────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ 1920×1080           │ Desktop      │ Повне відображення, 4 колонки товарів            │ Пройдено │
├───┼─────────────────────┼──────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ 1366×768            │ Laptop       │ Коректне відображення, 3 колонки                 │ Пройдено │
├───┼─────────────────────┼──────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ 768×1024            │ Tablet       │ Адаптивне меню, 2 колонки                        │ Пройдено │
├───┼─────────────────────┼──────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ 375×667             │ Mobile       │ Мобільне меню, 1 колонка                         │ Пройдено │
└───┴─────────────────────┴──────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування мобільного застосунку:

Таблиця 4.7 — Тестові випадки мобільного застосунку
┌───┬──────────────────────┬─────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Екран                │ Критерій перевірки          │ Очікуваний результат                             │ Статус   │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ HomeScreen           │ Головний екран              │ Банери, категорії, популярні товари              │ Пройдено │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ ProductsScreen       │ Каталог товарів             │ Список товарів, фільтри, пошук                   │ Пройдено │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ ProductDetailScreen  │ Деталі товару               │ Галерея, опис, характеристики, кнопки            │ Пройдено │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ CartScreen           │ Кошик                       │ Список товарів, зміна кількості, підсумок        │ Пройдено │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ LoginScreen          │ Авторизація                 │ Форма входу, валідація, помилки                  │ Пройдено │
├───┼──────────────────────┼─────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ ProfileScreen        │ Профіль користувача         │ Дані профілю, налаштування, вихід                │ Пройдено │
└───┴──────────────────────┴─────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Крос-браузерне тестування:

Таблиця 4.8 — Результати крос-браузерного тестування
┌───┬─────────────────────┬──────────┬────────────────┬──────────────────────┬──────────┐
│ № │ Браузер             │ Версія   │ Платформа      │ Результат            │ Статус   │
├───┼─────────────────────┼──────────┼────────────────┼──────────────────────┼──────────┤
│ 1 │ Google Chrome       │ 120+     │ Windows/macOS  │ Повна сумісність     │ Пройдено │
├───┼─────────────────────┼──────────┼────────────────┼──────────────────────┼──────────┤
│ 2 │ Mozilla Firefox     │ 120+     │ Windows/macOS  │ Повна сумісність     │ Пройдено │
├───┼─────────────────────┼──────────┼────────────────┼──────────────────────┼──────────┤
│ 3 │ Safari              │ 17+      │ macOS          │ Повна сумісність     │ Пройдено │
├───┼─────────────────────┼──────────┼────────────────┼──────────────────────┼──────────┤
│ 4 │ Microsoft Edge      │ 120+     │ Windows        │ Повна сумісність     │ Пройдено │
└───┴─────────────────────┴──────────┴────────────────┴──────────────────────┴──────────┘


4.4 Тестування безпеки

Тестування безпеки спрямоване на виявлення вразливостей та забезпечення захисту даних користувачів і системи в цілому.

Тестування автентифікації та авторизації:

Таблиця 4.9 — Тестові випадки безпеки автентифікації
┌───┬────────────────────────────────┬───────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Метод перевірки               │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Хешування паролів             │ Перевірка БД                  │ Паролі зберігаються у вигляді bcrypt-хешу        │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ JWT токени                    │ Аналіз токена                 │ Токен містить мінімум даних, має термін дії      │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Захист маршрутів              │ Запит без токена              │ Відповідь 401 Unauthorized                       │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Перевірка ролей               │ Запит адмін-ендпоінту         │ Доступ лише для ролі admin                       │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Брутфорс захист               │ Множинні невірні спроби       │ Rate limiting активовано                         │ Пройдено │
└───┴────────────────────────────────┴───────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування захисту від OWASP Top 10:

Таблиця 4.10 — Тестування OWASP вразливостей
┌───┬──────────────────────────────┬───────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Вразливість                  │ Метод тестування              │ Результат                                        │ Статус   │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ SQL Injection                │ Ін'єкція в параметри          │ Запити параметризовані (TypeORM)                 │ Захищено │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ XSS (Cross-Site Scripting)   │ Введення скриптів             │ React екранує вивід автоматично                  │ Захищено │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ CSRF                         │ Підроблені запити             │ CORS налаштовано, перевірка origin               │ Захищено │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Broken Authentication        │ Перевірка сесій               │ JWT з обмеженим терміном дії                     │ Захищено │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Sensitive Data Exposure      │ Аналіз відповідей API         │ Паролі та токени не повертаються                 │ Захищено │
├───┼──────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 6 │ Security Misconfiguration    │ Перевірка заголовків          │ HTTP security headers налаштовано                │ Захищено │
└───┴──────────────────────────────┴───────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування захисту даних:

Таблиця 4.11 — Тестові випадки захисту даних
┌───┬────────────────────────────────┬───────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Опис перевірки                │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ Шифрування з'єднання          │ Перевірка HTTPS               │ TLS 1.3 для всіх з'єднань                        │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Валідація вхідних даних       │ Відправка некоректних даних   │ class-validator відхиляє невалідні дані          │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Санітизація даних             │ Введення спецсимволів         │ Дані очищуються перед збереженням               │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Захист API ключів             │ Перевірка коду                │ Ключі зберігаються в .env файлах                 │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 5 │ Логування подій               │ Перевірка логів               │ Критичні події логуються (Sentry)                │ Пройдено │
└───┴────────────────────────────────┴───────────────────────────────┴──────────────────────────────────────────────────┴──────────┘

Тестування безпеки платіжної системи:

Таблиця 4.12 — Тестові випадки безпеки платежів
┌───┬────────────────────────────────┬───────────────────────────────┬──────────────────────────────────────────────────┬──────────┐
│ № │ Тестовий випадок              │ Метод перевірки               │ Очікуваний результат                             │ Статус   │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 1 │ PCI DSS сумісність            │ Аналіз інтеграції             │ Stripe Elements — дані карток не зберігаються    │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 2 │ Webhook автентифікація        │ Перевірка підпису             │ Stripe signature verification активовано         │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 3 │ Ідемпотентність платежів      │ Повторні запити               │ Дублювання платежів неможливе                    │ Пройдено │
├───┼────────────────────────────────┼───────────────────────────────┼──────────────────────────────────────────────────┼──────────┤
│ 4 │ Захист від підміни суми       │ Маніпуляція запитом           │ Сума перевіряється на сервері                    │ Пройдено │
└───┴────────────────────────────────┴───────────────────────────────┴──────────────────────────────────────────────────┴──────────┘